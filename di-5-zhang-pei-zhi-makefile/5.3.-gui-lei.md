# 5.3.归类


## 5.3.1. 类别

在创建软件包时， 它将被放在 **/usr/ports/packages/All** 下， 并从 **/usr/ports/packages** 的一个或多个子目录中进行链接。这些子目录的名字由变量 `CATEGORIES` 指定。它的目的是让用户在浏览 FTP 站点或 CDROM 上的一堆包时更轻松。请看一下当前的分类列表， 并挑选适合于这个 port 的分类。

这个列表也决定了 port 在 ports 树中被导入的位置。如果这里有多个分类， 则必须将 port 文件放到以第一个分类为名的子目录中。关于如何挑选正确的分类， 请参阅下面的讨论。

## 5.3.2. 目前的类别列表

这里是当前的 port 类别列表。那些标有星号 (`*`) 的是虚拟分类--在 ports 树中没有相应的子目录。它们只作为次要的类别， 而且只用于搜索目的。

> 注意
>
> 对于非虚拟类别，在该子目录的 **Makefile** 中，有一个单行的 `COMMENT` 描述。

|          类别           |                             描述                             |                             说明                             |
| :---------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|    **accessibility**    |                    帮助残疾用户的 port。                     |                                                              |
|    **afterstep**`*`     | 支持 [AfterStep](http://www.afterstep.org/) 窗口管理器的 port。 |                                                              |
|       **arabic**        |                       阿拉伯语言支持。                       |                                                              |
|      **archivers**      |                          归档工具。                          |                                                              |
|        **astro**        |                         天文 port。                          |                                                              |
|        **audio**        |                          声音支持。                          |                                                              |
|     **benchmarks**      |                      基准化的公用事业。                      |                                                              |
|       **biology**       |                      生物学相关的软件。                      |                                                              |
|         **cad**         |                     计算机辅助设计工具。                     |                                                              |
|       **chinese**       |                        支持中文语言。                        |                                                              |
|        **comms**        |                          通信软件。                          |                   主要是用软件与串口对话。                   |
|     **converters**      |                       字符编码转换器。                       |                                                              |
|      **databases**      |                           数据库。                           |                                                              |
|      **deskutils**      |           在电脑发明之前，那些曾经在桌面上的东西。           |                                                              |
|        **devel**        |                        开发公用设施。                        | 不要因为图书馆是图书馆就把它们放在这里。除非它们真的不属于其他地方，否则它们不应该**在这个类别中。 |
|         **dns**         |                      与DNS有关的软件。                       |                                                              |
|       **docs**`*`       |                   FreeBSD 文档的元 port。                    |                                                              |
|       **editors**       |                           总编辑。                           | 专门的编辑器放在这些工具的章节中。例如，一个数学公式编辑器将被放在**数学**，并将**编辑器**作为第二类。 |
|    **education**`*`     |                      与教育有关的软件。                      | 这包括主要或主要旨在帮助用户学习特定主题或一般学习的应用程序、实用工具或游戏。它还包括课程编写应用程序，课程交付应用程序，以及教室或学校管理应用程序。 |
|      **elisp**`*`       |                      Emacs-lisp port。                       |                                                              |
|      **emulators**      |                    其他操作系统的仿真器。                    | 终端仿真器并不属于这里。基于 X 的终端属于 **x11**，基于文本的终端属于 **comms** 或 **misc**，取决于具体功能。 |
|  **enlightenment**`*`   |            与Enlightenment窗口管理器有关的 port。            |                                                              |
|       **finance**       |                    货币、金融和相关应用。                    |                                                              |
|       **french**        |                        法语语言支持。                        |                                                              |
|         **ftp**         |                 FTP客户端和服务器实用程序。                  | 如果该 port 既讲 FTP 又讲 HTTP，就把它放在 **ftp**，次要类别为 **www**。 |
|        **games**        |                            游戏。                            |                                                              |
|    **geography**`*`     |                      与地理有关的软件。                      |                                                              |
|       **german**        |                        支持德语语言。                        |                                                              |
|      **gnome**`*`       |      来自 [GNOME](https://www.gnome.org/) 项目的 Port 。       |                                                              |
|     **gnustep**`*`      |               与 GNUstep 桌面环境有关的软件。                |                                                              |
|      **graphics**       |                        图形实用工具。                        |                                                              |
|     **hamradio**`*`     |                      业余无线电的软件。                      |                                                              |
|     **haskell**`*`      |                 与 Haskell 语言相关的软件。                  |                                                              |
|       **hebrew**        |                        希伯来语支持。                        |                                                              |
|      **hungarian**      |                        匈牙利语支持。                        |                                                              |
|         **irc**         |                     互联网中继聊天工具。                     |                                                              |
|      **japanese**       |                          日语支持。                          |                                                              |
|        **java**         |                  与 Java™ 语言有关的软件。                   | **java **类别不应成为一个 port 的唯一类别。除了与 Java 语言直接相关的 port 之外， 我们也鼓励 porter 不要将 **java** 作为 port 的主要分类。 |
|       **kde**`*`        |    来自 [KDE](https://www.kde.org/) 项目的 port（通用）。    |                                                              |
| **kde-applications**`*` |        来自 [KDE](https://www.kde.org/) 项目的应用。         |                                                              |
|  **kde-frameworks**`*`  | 来自 [KDE](https://www.kde.org/) 项目的附加库，用于用 Qt 编程。 |                                                              |
|    **kde-plasma**`*`    |         桌面来自 [KDE](https://www.kde.org/) 项目。          |                                                              |
|       **kld**`*`        |                       内核可加载模块。                       |                                                              |
|       **korean**        |                          支持韩语。                          |                                                              |
|        **lang**         |                          编程语言。                          |                                                              |
|      **linux**`*`       |                Linux 应用程序和支持实用程序。                |                                                              |
|       **lisp**`*`       |                   与 Lisp 语言有关的软件。                   |                                                              |
|        **mail**         |                          邮件软件。                          |                                                              |
|       **mate**`*`       |    与 MATE 桌面环境有关的 port，它是 GNOME 2 的一个分叉。    |                                                              |
|        **math**         |               数值计算软件和其他数学实用工具。               |                                                              |
|      **mbone**`*`       |                        MBone 的应用。                        |                                                              |
|        **misc**         |                         杂项公用事业                         | 不属于其他地方的东西。如果可能的话， 尽量为 port 找到一个比 `misc` 更好的分类， 因为 port 往往在这里被忽略了。 |
|     **multimedia**      |                         多媒体软件。                         |                                                              |
|         **net**         |                        杂项网络软件。                        |                                                              |
|       **net-im**        |                        即时通讯软件。                        |                                                              |
|      **net-mgmt**       |                        网络管理软件。                        |                                                              |
|       **net-p2p**       |                      点对点的网络应用。                      |                                                              |
|     **net-vpn**`*`      |                      虚拟专用网络应用。                      |                                                              |
|        **news**         |                      USENET 新闻软件。                       |                                                              |
|     **parallel**`*`     |                  处理计算中的并行性的应用。                  |                                                              |
|       **pear**`*`       |                与 Pear PHP 框架有关的 port。                 |                                                              |
|      **perl5**`*`       |              需要 Perl 版本 5 才能运行的 port。              |                                                              |
|      **plan9**`*`       | 来自 [Plan9](https://9p.io/wiki/plan9/Download/index.html) 的各种方案。 |                                                              |
|       **polish**        |                         波兰语支持。                         |                                                              |
|     **ports-mgmt**      |     用于管理、安装和开发 FreeBSD  port 和软件包的 port。     |                                                              |
|     **portuguese**      |                        葡萄牙语支持。                        |                                                              |
|        **print**        |                          打印软件。                          |             桌面出版工具（预览器等）也属于这里。             |
|      **python**`*`      |    与 [Python](https://www.python.org/) 语言有关的软件。     |                                                              |
|       **ruby**`*`       |    与 [Ruby](https://www.ruby-lang.org/) 语言有关的软件。    |                                                              |
|     **rubygems**`*`     |    [RubyGems](https://www.rubygems.org/) 软件包的 port。     |                                                              |
|       **russian**       |                          支持俄语。                          |                                                              |
|      **scheme**`*`      |                  与 Scheme 语言有关的软件。                  |                                                              |
|       **science**       |   不适合其他类别的科学 Port ，如**胃**，**生物**和**数学**。   |                                                              |
|      **security**       |                        安全公用事业。                        |                                                              |
|       **shells**        |                        命令行 shell。                        |                                                              |
|     **spanish**`*`      |                       西班牙语言支持。                       |                                                              |
|      **sysutils**       |                        系统实用程序。                        |                                                              |
|       **tcl**`*`        |                    使用 Tcl 运行的 port。                    |                                                              |
|      **textproc**       |                      文本处理实用程序。                      |         它不包括桌面出版工具，这些工具是去**打印的。         |
|        **tk**`*`        |                    使用 Tk 运行的 port。                     |                                                              |
|      **ukrainian**      |                        支持乌克兰语。                        |                                                              |
|     **vietnamese**      |                         越南语支持。                         |                                                              |
|     **wayland**`*`      |               支持 Wayland 显示服务器的 port。               |                                                              |
|   **windowmaker**`*`    |            支持 Window Maker 窗口管理器的 port。             |                                                              |
|         **www**         |                     与万维网有关的软件。                     |                  HTML 语言支持也属于这里。                   |
|         **x11**         |                      X 窗口系统和朋友。                      | 这个类别只适用于直接支持窗口系统的软件。不要把普通的X应用程序放在这里。它们中的大多数都被归入其他 **x11-*** 类别（见下文）。 |
|     **x11-clocks**      |                          X11 时钟。                          |                                                              |
|     **x11-drivers**     |                        X11 驱动程序。                        |                                                              |
|       **x11-fm**        |                       X11 文件管理器。                       |                                                              |
|      **x11-fonts**      |                   X11 字体和字体实用工具。                   |                                                              |
|     **x11-servers**     |                         X11 服务器。                         |                                                              |
|     **x11-themes**      |                          X11 主题。                          |                                                              |
|    **x11-toolkits**     |                         X11 工具箱。                         |                                                              |
|       **x11-wm**        |                       X11 窗口管理器。                       |                                                              |
|       **xfce**`*`       |    与 [Xfce](https://www.xfce.org/) 桌面环境有关的 port。    |                                                              |
|       **zope**`*`       |             [Zope](https://www.zope.org/) 支持。             |                                                              |

## 5.3.3. 选择正确的类别

由于许多类别是重叠的，选择哪一个类别作为 port 的主要类别可能是很繁琐的。有几条规则制约着这个问题。下面是优先级的列表，按优先级递减的顺序排列：

- 第一个类别必须是一个物理类别（[见上文](https://docs.freebsd.org/en/books/porters-handbook/book/#porting-categories)）。这是使包装工作的必要条件。此后，虚拟类别和物理类别可以相互混合。
- 语言的分类总是排在前面。例如， 如果 port 安装了日文的 X11 字体， 那么 `CATEGORIES` 一行就会写成 **japanese x11-fonts**。
- 具体的类别被列在不太具体的类别之前。例如，HTML 编辑器被列为 `www 编辑器`，而不是反过来。另外， 当 Port 属于 `irc`、 `mail`、 `news`、 `security` 或 `www` 中的任何一个时， 不要列出 `net`， 因为 `net` 是隐含的。
- 只有当主要类别是自然语言时，`x11` 才被用作次要类别。特别是，不要把 `x11` 放在 X 应用程序的类别行中。
- Emacs 模式被放在与该模式支持的应用程序相同的 Port 类别中，而不是放在编辑器中。例如，一个用于编辑某种编程语言的源文件的 Emacs 模式被归入 lang.Level。
- 安装可加载内核模块的 Port 在其 `CATEGORIES` 行中也有虚拟类别 **kld**。这是通过添加 `USES=kmod` 自动处理的事情之一。
- **misc** 不会与任何其他非虚拟的分类一起出现。如果在 `CATEGORIES` 中有 `misc` 和其他东西在一起， 这意味着 `misc` 可以安全地被删除， 而 Port 只能放在其他子目录中。
- 如果该 Port 确实不属于其他地方，就把它放在混杂的地方。

如果类别没有明确的定义， 请在 bug 数据库中的 port 提交中加入相应的注释， 以便我们在导入之前进行讨论。作为一个 committer， 请向 [FreeBSD ports](https://lists.freebsd.org/subscription/freebsd-ports) 邮件列表 发出说明， 以便我们能够首先讨论它。很多时候， 新的 port 被导入到了错误的分类中， 却又马上被移走。

## 5.3.4. 提出一个新的类别

随着 Ports  的发展，各种新的分类也被引入了。新的分类可以是虚拟分类， 即那些在 ports 树中没有相应子目录的分类， 也可以是物理分类， 即那些有的分类。这一节讨论了创建一个新的物理分类所涉及的问题。在提出一个新的类别之前，请彻底阅读它。

我们现有的做法是避免创建一个新的物理分类， 除非有大量的 port 在逻辑上属于这个分类， 或者属于这个分类的 port 是一个逻辑上不同的群体， 具有有限的普遍意义 (例如， 与人类口头语言有关的分类)， 或者最好是两者都有。

这样做的理由是， 这样的修改会给提交者和追踪 Ports  变动的所有用户带来相当多的工作。此外， 拟议的分类修改似乎自然会引起争议。(也许这是因为对于一个分类何时 “过大”，以及分类是否应该适合于浏览（因此多少个分类才是理想的数量），等等，都没有明确的共识）。

以下是程序：

> 1. 在 [FreeBSD ports](https://lists.freebsd.org/subscription/freebsd-ports) 邮件列表 中提出新的分类。包括新分类的详细理由， 包括为什么现有的分类是不够的， 以及提议转移的现有 port 的列表。(如果在 Bugzilla 中有适合这个分类的新 port， 也要列出。) 如果您是维护者和/或提交者， 请提及这一点， 因为这可能有助于案件的审理。
> 2. 参与讨论。
> 3. 如果这个想法得到了支持， 请提交一份 PR， 其中包括理由和需要转移的现有 port 的列表。理想情况下， 这个 PR 也包括这些补丁：
>    - 重新复制后的新 Port 的 **Makefile**s
>    - 新类别的 **Makefile**
>    - 旧的 ports 的 **Makefile** 的分类
>    - 依赖于旧 Port 的 **Makefile**s
>    - (为了加分，请按照《提交人指南》中的程序，包括必须改变的其他文件)。
> 4. 由于它影响到 Port 的基础设施， 并涉及到移动和修补许多 Port ， 而且还可能在构建集群上运行回归测试， 请将 PR 分配给 Port 管理团队 <portmgr@FreeBSD.org>。
> 4. 如果该 PR 被批准，提交者将需要遵循《提交者指南》中概述的其余程序。

提出一个新的虚拟分类与上述情况类似， 但涉及的内容要少得多， 因为实际上没有 Port 需要移动。在这种情况下， 唯一需要在 PR 中加入的补丁是那些在受影响的 port 的 `CATEGORIES` 中加入新类别的补丁。

## 5.3.5. 建议重新组织所有的类别

偶尔会有人提议用两级结构或其他类型的关键字结构来重新组织这些分类。到目前为止， 这些建议都没有结果， 因为虽然它们很容易实现， 但要对整个现有的 ports 集合进行任何形式的重组， 所涉及的努力至少是令人生畏的。在发表这个想法之前，请阅读邮件列表档案中这些建议的历史。此外，请准备好接受挑战，提供一个工作原型。
