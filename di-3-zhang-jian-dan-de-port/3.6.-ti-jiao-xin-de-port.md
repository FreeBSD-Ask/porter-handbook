# 3.6 提交新的 Port

在提交新 port 之前，请阅读做和不做的部分。

当满意于port时，唯一剩下的就是将其放入主 FreeBSD ports树中，并使所有其他人对此感到满意。

|  | 我们不需要工作目录或 pkgname.txz 软件包，所以现在删除它们。 |
| -- | ------------------------------------------------------------- |

接下来，创建一个 patch(1)文件。假设port被称为 oneko ，并且属于 games 类别。

创建一个新的.diff 文件以供 New Port使用的示例

添加所有带有 git add . 的文件，然后使用 git diff 查看差异。例如：

```
% git add .
% git diff --staged
```

确保所有必需的文件都已包含，然后将更改提交到您的本地分支并使用 git format-patch 生成补丁

```
% git commit
% git format-patch origin/main
```

使用 git format-patch 生成的补丁将包括作者身份和电子邮件地址，使开发人员更容易应用补丁（使用 git am ）并给予适当的信用。

为了让提交者更容易将补丁应用于其 ports 树的工作副本，请从您的 ports 树的基础生成 .diff 文件。

使用 Ports & 软件包 产品，个别 Port 组件，按照显示的指南提交 oneko.diff 与错误提交表单。在 PR 的描述字段中添加程序的简短描述（可能是 COMMENT 的简短版本），并记得添加 oneko.diff 作为附件。

|  | 在问题报告的摘要中提供良好的描述使port提交者和分诊人员的工作变得更加容易。新ports的预期格式为“[NEW PORT] 类别/端口名 简短描述port”。使用这种方案使开始提交新port的工作更加轻松快捷。 |
| -- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

提交port后，请耐心等待。将新port包含在 FreeBSD 中的时间可能从几天到几个月不等。问题报告数据库的简单搜索表格可以在 https://bugs.freebsd.org/bugzilla/query.cgi 进行搜索。

要获取开放port PR 的列表，请在搜索表单中选择 Open 和Ports & 软件包，然后点击搜索。

在查看了新的port之后，如果有必要，我们会回复并将其提交到树中。提交者的姓名也将被添加到其他文件以及额外的 FreeBSD 贡献者列表中。

|  | 以前可以使用 shar(1) 文件提交新的ports 的补丁；随着 git(1) 的发展，这不再适用。Committer 不再接受 shar(1) 文件，因为使用这些文件容易出错，且不会在相关类别的 Makefile 中添加相应的条目。 |
| -- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
